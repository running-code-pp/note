
#  Address Sanitizer 
google开发的对于c/c++代码在编译期检测内存访问错误/内存泄漏的工具，gcc4.8以上已经内置了
```cpp
#ifdef __clang__
#if __has_feature(address_sanitizer)
#define AS_INTERNAL_USE_ASAN 1
#endif  // __has_feature(address_sanitizer)
#endif  // __clang__

#ifdef __GNUC__
#ifdef __SANITIZE_ADDRESS__  // GCC
#define AS_INTERNAL_USE_ASAN 1
#endif  // __SANITIZE_ADDRESS__
#endif  // __GNUC__

```
clang编译时加上编译选项 -fsanitize=address

cmake中可以配置:
```bash
# 方法 1: 直接添加编译选项
target_compile_options(your_target PRIVATE -fsanitize=address)
target_link_options(your_target PRIVATE -fsanitize=address)

# 方法 2: 使用 CMake 的 sanitizer 支持（CMake 3.15+）
add_compile_options(-fsanitize=address)
link_libraries(-fsanitize=address)

# cmake -DCMAKE_CXX_FLAGS="-fsanitize=address" -DCMAKE_EXE_LINKER_FLAGS="-fsanitize=address" ..
```